<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Parse Serve example</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-min.css" rel="stylesheet">
    <link href="/static/assets/css/style.css" rel="stylesheet">
  </head>

  <body>
    <div class="container">
      <div class="align-center">
        <img id="parse-logo" src="/static/assets/images/parse-logo.png">
      </div>

      <div class="advice">
        <p><strong>Hi</strong>! We've prepared a small project to assist you on your migration from the cloud-hosted Parse Server to a local-hosted Parse Server.</p>
        <p>These first steps will help you run and test the Parse Server locally and were all referrenced by this <a href="https://github.com/ParsePlatform/parse-server/wiki/Migrating-an-Existing-Parse-App">migration guide</a> provided by the <a href="https://github.com/ParsePlatform/">ParsePlataform</a>.</p>
      </div>
      <div id="steps" class="pure-g">
        <div class="pure-u-6-24 steps--item steps--item-completed">
          <div class="pure-g">
            <div class="pure-u-1-5"><span class="steps--item-check">✓</span></div>
            <div class="pure-u-4-5"><span class="steps--item-description">Run and test <br/>local Parse</span></div>
          </div>
        </div>
        <div class="pure-u-6-24 steps--item steps--item-completed">
        <div class="pure-g">
            <div class="pure-u-4-24"><span class="steps--item-check">✓</span></div>
            <div class="pure-u-20-24"><span class="steps--item-description">Deploy and test production Parse</span></div>
          </div>
        </div>
        <div class="pure-u-6-24 steps--item  steps--item-completed">
        <div class="pure-g">
            <div class="pure-u-4-24"><span class="steps--item-check">✓</span></div>
            <div class="pure-u-20-24"><span class="steps--item-description">Expose Parse to migrate data</span></div>
          </div>
        </div>
        <div class="pure-u-6-24 steps--item steps--item-finalize steps--item-active align-center">
          <span class="steps--item-description" href="">Finalize</span>
        </div>
      </div>

      <p class="time-to-deploy">Time to get our Parse Server running in a droplet at <a href="https://digitalocean.com/" target="_blank">DigitalOcean</a>.</p>

      <div id="step-1" class="pure-g step--container">
        <div class="pure-u-1-5">
          <span class="step--description">Deploy app</a>
        </div>
        <div class="pure-u-4-5">
          <p>
            The Azkfile.js is already prepared with the deployment system.
            <br/>
            All you need is to adjust your DEPLOY_API_TOKEN. You can do that by typing:
          </p>
          <pre id="post-pre" class="step--pre">$ echo DEPLOY_API_TOKEN=[your-digital-ocean-api-token] >> .env</pre>

          <p>And then use azk to deploy the app server:</p>
          <pre id="post-pre" class="step--pre">$ azk deploy</pre>
        </div>
      </div>

      <div id="step-2" class="pure-g step--container">
        <div class="pure-u-1-5">
          <span class="step--description">Test app in production</a>
        </div>
        <div id="prod-test" class="pure-u-4-5">
          <p>Once the deploy is done, we can assist you to test it in production.<br/> Just provide the your production cloud app id and server ip.</p>
          <input value="..." id="prod-server-ip" placeholder="your server ip" type="text">
          <input value="myAppId" id="prod-app-id" placeholder="your app id" type="text">
          <a href="#" id="prod-test-btn" class="step--action-btn">TEST SERVER</a>
        </div>
      </div>

      <div id="step-3" class="pure-g step--container hidden">
        <div class="pure-u-1-5  align-center">
          <span class="step--check">✓</a>
        </div>
        <div class="pure-u-4-5">
          <p id="local-parse-working">
          Congrats! Our production Parse server is working. :)<br />
          If we want to test a data migration, we might expose our database to outer world.<br/>
          Should we proceed?
          <a href="/expose-and-migrate" id="get-btn" class="step--action-btn step--deploy-btn">Nice! Let's migrate.</a>
          </p>
        </div>
      </div>

    </div>
    <script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
    <script src="/static/assets/js/config.js"></script>
    <script src="/static/assets/js/xhr.js"></script>
    <script src="/static/assets/js/deployment.js"></script>
  </body>
</html>
